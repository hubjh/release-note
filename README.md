# ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸

# â˜‘ï¸ í”„ë¡œì íŠ¸ ê²°ê³¼

---

![Screenshot 2023-02-01 á„‹á…©á„’á…® 4.23.11.png](https://github.com/hubjh/release-note/blob/master/Screenshot%202023-02-01%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%204.23.11.png)

### ğŸ”—Â Link

[http://15.164.106.168/?products=python,hive,spark,hadoop,airflow,prometheus,grafana,datahub,elasticsearch,delta_lake,kafka,pandas,graphql-js,rails,react,tailwind,mobx,vuex,node,django,rabbitmq,kubernetes,gatsby,tableau,flask,fastapi,seaborn,queryme,storybook,vue,express,recoil,springboot,redux,grpc,nuxt,celery,mybatis,matplotlib,angular,next,redash,nest,laravel,liquibase,emotion,spring,powerbi,numpy](http://15.164.106.168/?products=python,hive,spark,hadoop,airflow,prometheus,grafana,datahub,elasticsearch,delta_lake,kafka,pandas,graphql-js,rails,react,tailwind,mobx,vuex,node,django,rabbitmq,kubernetes,gatsby,tableau,flask,fastapi,seaborn,queryme,storybook,vue,express,recoil,springboot,redux,grpc,nuxt,celery,mybatis,matplotlib,angular,next,redash,nest,laravel,liquibase,emotion,spring,powerbi,numpy)

## **ê²°ê³¼ì˜ ì˜ë¯¸**

|  | ê°œì¸ | íŒ€ |
| --- | --- | --- |
| ì–»ì€ ê²ƒ |  | í•„ìš”í•œ í”„ë ˆì„ì›Œí¬ì˜ ë²„ì „ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ì›¹í˜ì´ì§€ê°€ ìƒê²¼ë‹¤.

ë°ì´í„° í”Œë«í¼ ì„œë²„ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ì¶”ê°€ |

# âœÂ í”„ë¡œì íŠ¸ ë°°ê²½

---

| í”„ë¡œì íŠ¸ ì¸ì› | 2ëª… |
| --- | --- |
| í”„ë¡œì íŠ¸ì˜ ëª©í‘œ | í”„ë ˆì„ì›Œí¬ë“¤ì˜ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ì›¹í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•  íŒŒì´í”„ë¼ì¸ êµ¬ì¶• |
| íŒ€ì˜ ëª©í‘œ | ë°ì´í„°í”Œë«í¼ ì„œë²„ì˜ ì¸í”„ë¼ ì„±ëŠ¥, ì•ˆì •ì„± í…ŒìŠ¤íŠ¸

1. k8sì— podë¡œ ì˜¬ë ¤ë†“ì€ Spark, Airflow ë“±ì´ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸
2. k8s ë…¸ë“œë“¤ì˜ ë¦¬ì†ŒìŠ¤(CPU, Memory) ì´ìƒ í…ŒìŠ¤íŠ¸
3. ì´ìƒ ë°œê²¬ ì‹œ ë¬¸ì œì ì„ í•´ê²°í•œë‹¤. |
| íŒ€ ë‚´ ë‚˜ì˜ ì—­í•   | 1. Github APIë¥¼ í™œìš©í•œ íŒŒì´í”„ë¼ì¸ Python ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ê¸°
2. Airflowë¥¼ í†µí•´ Python ìŠ¤í¬ë¦½íŠ¸ë“¤ì˜ ìŠ¤ì¼€ì¥´ ì‘ì„± |
| íŒ€ì˜ ë¬¸ì œ í˜¹ì€ ê¸°íšŒ ìƒí™© | í”„ë¡œì íŠ¸
1. í”„ë¡ íŠ¸ë¥¼ í•  ì¤„ ì•„ëŠ” ì‚¬ëŒì´ ì—†ìœ¼ë¯€ë¡œ ì„œë¹„ìŠ¤ ì›¹í˜ì´ì§€ëŠ” ì™¸ì£¼ë¥¼ ë§¡ê²¨ì„œ ë§Œë“ ë‹¤.
2. ì„œë¹„ìŠ¤ìš©ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ Amazon lightsail ì„œë²„ê°€ ìˆë‹¤.
3. lightsail ì„œë²„ì—ì„œ ë™ì‘í•˜ëŠ” ë°±ì—”ë“œ ê¸°ëŠ¥ì€ íŒ€ì¥ì´ ë§Œë“ ë‹¤. |
| ê°œë°œ ê¸°ê°„ | 2022.11 ~ 2022.12 |
| ê°œë°œ ì–¸ì–´  | Python |
| ê°œë°œ í™˜ê²½ | ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ Ubuntu:20.04 |
| ì‚¬ìš© ê¸°ìˆ 
 | Main : ì£¼ë¡œ ì‚¬ìš©í•œ ê¸°ìˆ 

â€¢ Hadoop
    â—¦ ìˆ˜ì§‘í•œ ì±„íŒ…ë¡œê·¸, streams ë°ì´í„° ì†ŒìŠ¤ì™€ Sparkë¡œ ê°€ê³µí•œ ë°ì´í„° ì €ì¥
â€¢ Docker
    â—¦ ê°œë°œ ë‹¨ê³„ì—ì„œ í…ŒìŠ¤íŠ¸ìš© ì»¨í…Œì´ë„ˆ ìƒì„±
â€¢ Spark
    â—¦ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ í•„í„°ë§ í•  ë•Œ ì‚¬ìš©
â€¢ Airflow
    â—¦ Spark ì‹¤í–‰ ìŠ¤ì¼€ì¥´ ê´€ë¦¬ |

# ğŸ§© í”„ë¡œì íŠ¸ ê³¼ì •

---

# ì¡°ì‚¬ë‚´ìš©

# Github API

---

# Ex)

| vue.jsì˜ github ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” API |
| --- |
| https://api.github.com/repos/vuejs/vue/releases |

### https://api.github.com/repos/{`owner`}/{`repo`}/releases

| ê²½ë¡œ ë§¤ê°œ ë³€ìˆ˜ | Type | í•„ìˆ˜ ë§¤ê°œ ë³€ìˆ˜ | ì„¤ëª… |
| --- | --- | --- | --- |
| owner | string | í•„ìˆ˜ | ì €ì¥ì†Œì˜ ê³„ì • ì†Œìœ ìì…ë‹ˆë‹¤.Â ì´ë¦„ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. |
| repo | string | í•„ìˆ˜ | ë¦¬í¬ì§€í† ë¦¬ì˜ ì´ë¦„ì…ë‹ˆë‹¤.Â ì´ë¦„ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. |

## ìˆ˜ì§‘í•˜ëŠ” ë°ì´í„°

| tag_name | GitHubì—ì„œ ë¦´ë¦¬ìŠ¤ì— í• ë‹¹ëœ íƒœê·¸(Tag)ì˜ ì´ë¦„ |
| --- | --- |
| html_url | GitHubì—ì„œ í•´ë‹¹ ë¦´ë¦¬ìŠ¤ì— ëŒ€í•œ ì›¹ í˜ì´ì§€ URL |
| published_at | GitHubì—ì„œ ë¦´ë¦¬ìŠ¤ê°€ ê²Œì‹œëœ ë‚ ì§œì™€ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì„ìŠ¤íƒ¬í”„ |

# í”„ë¡œê·¸ë¨ ë™ì‘

---

1. ë§¤ì¼ 0ì‹œ 0ë¶„ì— Python ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ Airflowë¡œ ìŠ¤ì¼€ì¥´ë§í•˜ì—¬ í”„ë ˆì„ì›Œí¬ ë²„ì „, ì›¹ í˜ì´ì§€ URL, ê²Œì‹œëœ ë‚ ì§œë¥¼ ìˆ˜ì§‘
2. ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ Parquetë¡œ ê°€ê³µ í›„ yellow í…Œì´ë¸”ë¡œ ê´€ë¦¬
3. yellow í…Œì´ë¸”ì—ì„œ SQLë¡œ ë°ì´í„° ì¶”ì¶œ í›„ lightsail ì„œë²„ì— APIë¡œ ì „ì†¡
4. lightsail ì„œë²„ì—ì„œ Docker ì»¨í…Œì´ë„ˆë¡œ ì„œë¹„ìŠ¤ ì›¹í˜ì´ì§€ì— ë°ì´í„° ê°±ì‹ 

# Airflow DAG

---

| schedule_interval | 0 0 * * *  |
| --- | --- |
| DAG | Crawler >> Parser >> Sender |

## Crawler

| Operator | KubernetesPodOperator |
| --- | --- |
| cmds | [â€˜python3â€™, â€˜foo.pyâ€™] |
| ê¸°ëŠ¥ | 1. Github APIë¡œ í”„ë ˆì„ì›Œí¬ë“¤ì˜ ë²„ì „ ì •ë³´ë“¤ì„ ìˆ˜ì§‘
2. Githubì—ì„œ êµ¬í•  ìˆ˜ ì—†ëŠ” í”„ë ˆì„ì›Œí¬ë“¤ì˜ ë²„ì „ ì •ë³´ë¥¼ ìˆ˜ì§‘

HDFSì— JSONìœ¼ë¡œ í¬ë§· |

## Parser

| Operator | KubernetesPodOperator |
| --- | --- |
| cmds | [â€˜/bin/spark-submitâ€™, â€˜bar.pyâ€™] |
| ê¸°ëŠ¥ | red í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ë½‘ì•„ì„œ Sparkë¡œ ì¤‘ë³µ ì œê±°, ìŠ¤í‚¤ë§ˆ ë¶€ì—¬
HDFSì— parquetìœ¼ë¡œ í¬ë§· |

## Sender

| Operator | KubernetesPodOperator |
| --- | --- |
| cmds | [â€˜/bin/spark-submitâ€™, â€˜baz.pyâ€™] |
| ê¸°ëŠ¥ | yellow í…Œì´ë¸”ì—ì„œ spark sqlë¡œ í•„ìš”í•œ ë°ì´í„° ì¶”ì¶œ
ì¶”ì¶œ ë°ì´í„°ë¥¼ Amazon lightsail ì„œë²„ì— APIë¡œ ì „ì†¡ |

## Amazon lightsail

---

Amazon lightsailì—ì„œ Docker ì»¨í…Œì´ë„ˆë¡œ Fast API ì„œë²„ê°€ ë™ì‘
Senderë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ê³  ì›¹í˜ì´ì§€ì— ê°±ì‹ í•˜ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤.
